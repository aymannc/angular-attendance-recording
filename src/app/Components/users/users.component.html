<div nz-row nzAlign="middle" nzJustify="end" [nzGutter]="[16, 24]">
  <div nz-col>
    <button nz-button nzType="primary" nzSize="large">
      <a [routerLink]="['/users','add']">Add user</a>
    </button>
  </div>
</div>
<div nz-row nzJustify="space-around" style="margin-bottom: 10px">
</div>
<div nz-row nzAlign="middle" nzJustify="space-around">
  <div nz-col [nzSpan]="6">
    <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Selectioner un Semester">
      <nz-option nzLabel="S1" nzValue="S1"></nz-option>
      <nz-option nzLabel="S2" nzValue="S2"></nz-option>
      <nz-option nzLabel="S3" nzValue="S3"></nz-option>
      <nz-option nzLabel="S4" nzValue="S4"></nz-option>
      <nz-option nzLabel="S5" nzValue="S5"></nz-option>
    </nz-select>
  </div>
  <div nz-col [nzSpan]="6">
    <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Annee Univirsitaire">
      <nz-option nzLabel="2019/2020" nzValue="2019/2020"></nz-option>
      <nz-option nzLabel="2018/2019" nzValue="2018/2019"></nz-option>
      <nz-option nzLabel="2017/2018" nzValue="2017/2018"></nz-option>
    </nz-select>
  </div>
  <div nz-col [nzSpan]="6">
    <div nz-row nzJustify="space-around">
      <div nz-col nzFlex="5"><input id="table-search" nz-input placeholder="Search"/>
      </div>
      <div nz-col nzFlex="1">
        <button nz-button nzType="default"><i nz-icon nzType="search"></i></button>
      </div>
    </div>
  </div>
</div>
<div nz-row nzAlign="middle" style="margin-top: 50px">
  <div nz-col nzFlex="1">

    <nz-table
      nzShowSizeChanger
      [nzData]="users"
      [nzFrontPagination]="false"
      [nzLoading]="loading"
      [nzTotal]="total"
      [nzPageSize]="pageSize"
      [nzPageIndex]="pageIndex"

      (nzQueryParams)="onQueryParamsChange($event)"
    >
      <thead>
      <tr>
        <th
          [nzSelections]="listOfSelection"
          [(nzChecked)]="checked"
          [nzIndeterminate]="indeterminate"
          (nzCheckedChange)="onAllChecked($event)"
        ></th>
        <th nzCustomFilter nzColumnKey="name" [nzSortFn]="true">
          Name
          <nz-filter-trigger [(nzVisible)]="visible" [nzActive]="searchValue.length > 0" [nzDropdownMenu]="SearchMenu">
            <i nz-icon nzType="search"></i>
          </nz-filter-trigger>
        </th>
        <th nzColumnKey="type" [nzSortFn]="true" [nzFilters]="filterRoles" [nzFilterFn]="true">Role</th>
        <th nzColumnKey="nomUtilisateur" [nzFilters]="filterGender" [nzFilterFn]="true">Username</th>
        <th nzColumnKey="email" [nzSortFn]="true">Email</th>
      </tr>
      </thead>
      <tbody>

      <tr *ngFor="let data of users;let userID = index">
        <td [nzChecked]="setOfCheckedId.has(data?.idUtilisateur)"
            (nzCheckedChange)="onItemChecked(data?.idUtilisateur, $event)"></td>
        <td>
          <div class="context-area"
               (contextmenu)="contextMenu($event, RCMenu,data)">
            <a (click)="rightClickMenuDetails(data)" class="clickable-name">
              {{ data?.perssone?.prenom }}
              {{ data?.perssone?.nom }}
            </a>
          </div>
        </td>
        <td>
          <nz-tag [nzColor]="getRandomTagColor(data.type)">{{data?.type}}</nz-tag>
        </td>
        <td>{{ data?.nomUtilisateur }}</td>
        <td>{{ data?.email }}</td>

      </tr>


      </tbody>
    </nz-table>
    <nz-dropdown-menu #RCMenu="nzDropdownMenu">
      <ul nz-menu>
        <li nz-menu-item (click)="rightClickMenuDetails()">Details</li>
        <li nz-menu-item (click)="rightClickMenuModify()">Modify</li>
        <li nz-menu-item (click)="rightClickMenuDelete()">Delete</li>
      </ul>
    </nz-dropdown-menu>
    <nz-dropdown-menu #SearchMenu="nzDropdownMenu">
      <div class="ant-table-filter-dropdown">
        <div class="search-box">
          <input type="text" nz-input placeholder="Search name" [(ngModel)]="searchValue"/>
          <button nz-button nzSize="small" nzType="primary" (click)="search()" class="search-button">
            Search
          </button>
          <button nz-button nzSize="small" (click)="reset()">Reset</button>
        </div>
      </div>
    </nz-dropdown-menu>
  </div>

</div>
<!--<nz-space nzDirection="vertical" nzSize="middle">-->
<!--  <nz-space-item>-->
<!--    <div nz-row nzAlign="middle" [nzGutter]="[16, 24]">-->
<!--      <div nz-col nzSpan="7" nzOffset="1">-->
<!--        <label for="table-search">Search</label>-->
<!--        <input id="table-search" nz-input placeholder="Search"/>-->
<!--      </div>-->
<!--      <div nz-col nzSpan="7" nzOffset="8">-->
<!--        <button nz-button nzType="primary" nzSize="large">-->
<!--          <a [routerLink]="['/add']">Add user</a>-->
<!--        </button>-->
<!--      </div>-->
<!--    </div>-->
<!--  </nz-space-item>-->
<!--  <nz-space-item>-->
<!--    <div nz-row nzAlign="middle">-->
<!--      <div nz-col nzFlex="1">-->
<!--        <nz-table-->
<!--          nzShowSizeChanger-->
<!--          [nzData]="listOfRandomUser"-->
<!--          [nzFrontPagination]="false"-->
<!--          [nzLoading]="loading"-->
<!--          [nzTotal]="total"-->
<!--          [nzPageSize]="pageSize"-->
<!--          [nzPageIndex]="pageIndex"-->
<!--          (nzQueryParams)="onQueryParamsChange($event)"-->
<!--        >-->
<!--          <thead>-->
<!--          <tr>-->
<!--            <th nzColumnKey="name" [nzSortFn]="true">Name</th>-->
<!--            <th nzColumnKey="email" [nzSortFn]="true" [nzFilters]="filterRoles" [nzFilterFn]="true">Role</th>-->
<!--            <th nzColumnKey="gender" [nzFilters]="filterGender" [nzFilterFn]="true">Gender</th>-->
<!--            <th nzColumnKey="email" [nzSortFn]="true">Email</th>-->
<!--          </tr>-->
<!--          </thead>-->
<!--          <tbody>-->
<!--          <tr *ngFor="let data of listOfRandomUser">-->
<!--            <td>{{ data.name.first }} {{ data.name.last }}</td>-->

<!--            <td>-->
<!--              <nz-tag [nzColor]="getRandomTagColor()">{{getRandomTag()}}</nz-tag>-->
<!--            </td>-->
<!--            <td>{{ data.gender }}</td>-->
<!--            <td>{{ data.email }}</td>-->

<!--          </tr>-->
<!--          </tbody>-->
<!--        </nz-table>-->
<!--      </div>-->

<!--    </div>-->
<!--  </nz-space-item>-->
<!--</nz-space>-->

